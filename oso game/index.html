<!DOCTYPE html>
<html>
    <head>
        <title>OSO</title>
    </head>
    <body>
        <p id="txt"><p>
        <script>
            let tablero = new Array();
            let maxx = 9;
            let maxy = 9;  

            // for (i = 0; i < maxx; i++){
            //     for (j = 0; j < maxy; j++){
            //         tablero[i][j] = "1";
            //     }
            // }
            console.log(tablero.length);

            function aleatorio(min,max){
                var horquilla = max-min;
                return Math.round(Math.random()*horquilla+min);
            }

            //
            function rellena(){
                // aquí tendrás que rellenar la matriz.
                for (i = 0; i < maxx; i++){
                    tablero[i] = [];
                    for (j = 0; j < maxy; j++){
                        let rand;
                        if (aleatorio(1,3) == 1){
                            rand = "S";
                        } else {
                            rand = "O";
                        }
                        tablero[i][j] = rand;                    
                    }
                }
            }

            function resuelve(){
                //función que resuelve el juego
                for (i = 0; i < maxx; i++){
                    for (j = 0; j < maxy; j++){
                        comprobar(i,j)                
                    }
                }
            }

            function comprobar(i,j){
                try{
                    let letter = tablero[i][j];
                    if (letter == "S"){
                        // console.log("letter S at: ", i , j);
                        //left
                        if (tablero[i][j-1] == "O"){
                            if (tablero[i][j+1] == "O"){
                                tablero[i][j-1] = " ";
                                tablero[i][j] = " ";
                                tablero[i][j+1] = " ";
                            }
                        }
                        // left up
                        if (tablero[i-1][j-1] == "O" && tablero[i][j] == "S"){
                            if (tablero[i+1][j+1] == "O"){
                                tablero[i-1][j-1] = " ";
                                tablero[i][j] = " ";
                                tablero[i+1][j+1] = " ";
                            }
                        }
                        //up
                        if (tablero[i-1][j] == "O" && tablero[i][j] == "S"){
                            if (tablero[i+1][j] == "O"){
                                tablero[i-1][j] = " ";
                                tablero[i][j] = " ";
                                tablero[i+1][j] = " ";
                            }
                        }
                        //rightup
                        if(tablero[i-1][j+1] == "O" && tablero[i][j] == "S"){
                            if(tablero[i-1][j-1] == "O"){
                                tablero[i-1][j+1] = " ";
                                tablero[i][j] = " ";
                                tablero[i+1][j-1] = " ";
                            }
                        }
                        // console.log(JSON.parse(JSON.stringify(tablero)));
                    }
                } catch(TypeError){
                    console.log("error");
                }
            }

            rellena();
            console.log(JSON.parse(JSON.stringify(tablero)));
            resuelve();
            console.log(tablero);

        </script>
    </body>
</html>