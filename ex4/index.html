<!DOCTYPE html>
<html>
  <head>
    <title>UNION LIST</title>
  </head>
  <body>
    PRIMERA LISTA:
    <ul id="lista1">
      <li>manzana</li>
      <li>pera</li>
      <ul>
        <li>conferencia</li>
        <ul>
          <li>conferenciaverde</li>
          <li>conferenciaamarilla</li>
          <li>conferenciaroja</li>
        </ul>
        <li>peradeagua</li>
        <li>peritadulce</li>
        <ul>
          <li>Dimas</li>
          <li>Gestas</li>
          <li>Malakatos</li>
          <li>Jose</li>
        </ul>
      </ul>
      <li>limon</li>
      <li>limon</li>
      <li>LIMON</li>
    </ul>
    Segunda lista:
    <ul id="lista2">
      <li>manzana</li>
      <li>manzana</li>
      <ul>
        <li>manzana</li>
        <li>manzana</li>
      </ul>
      <li>pera</li>
      <li>limon</li>
    </ul>
    <ol id="lista3"></ol>
    <script>
      let list1 = getList("lista1");
      let list2 = getList("lista2");

      console.log(joinWithoutRepeats(list1, list2));

      function getList(id) {
        const ul = document.getElementById(id);
        let li = Array.from(ul.getElementsByTagName("li"));
        let result = [];
        li.filter((e) => {
          e.innerText = e.innerText.toLowerCase();
          result.push(e.innerText);
        });
        return result.sort();
      }

      function joinWithoutRepeats(list1, list2) {
        let result = [];
        result = list1.filter((e) => e);
        list2.filter((e) => result.push(e));
        result = result.sort();
        result = result.filter((e, index) => {
            if (result[index] != result[index-1]){
                return e;
            }
        });
        return result;
      }
    </script>
  </body>
</html>
