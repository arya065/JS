<!DOCTYPE html>
<html>

<head>
    <title>RECURSIVIDAD</title>
</head>

<body>
    <p>let array = [1,2,3,4];
        Array.isArray(array); // true
    </p>
    <script>
        let list = new Map();
        // list.set(1,0);
        let numeros = [1, [2, 3, 4], [8, 15, [5, 1]], 27];
        // console.log("initial array " + numeros);
        console.log(calc(numeros) + " result");

        console.log(list);
        // ESCRIBE TU CÓDIGO AQUÍ
        function calc(arr) {
            // console.log("_________________________________array start ");
            // console.log("array now: "+ arr);
            var sum = 0;
            if (arr.length == 0) {
                return sum;
            }

            for (var i = 0; i < arr.length; i++) {
                var element = arr[i];
                // console.log("element now: " + element);
                if (element instanceof Array) {
                    // console.log("element is array");
                    sum += calc(element);
                    // console.log("arraysum is:" + sum);
                } else {
                    sum += element;
                    // console.log("element not array, summ is " + sum);
                    if (!list.get(element)) {
                        list.set(element, 1);
                    } else if (list.get(element)) {
                        list.set(element, list.get(element)++);
                    }
                }
            }
            // console.log("_________________________________array finished ");
            return sum;
        }


    </script>
</body>

</html>